{
  "hash": "35570d03105324c54e5e3b68e2d0c96c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"05-viz\"\nauthor: \"Professor Shannon Ellis\"\ndate: \"2023-10-17\"\n\nformat:\n  html: \n    output-file: 05-viz.html\n    execute:\n      freeze: true\n  revealjs:\n    output-file: 05-viz-slides.html\n    slide-number: true\n    chalkboard: false \n    preview-links: auto\n    logo: images/cogs137-logo-hex.png\n    css: slides.css\n    footer: <https://cogs137.github.io/website/>\n    scrollable: true      \n    embed-resources: true\n    execute:\n      echo: true\n      eval: true\n      freeze: true\n---\n\n\n# Effective Data Visualization {background-color=\"#92A86A\"}\n\nSlides modified from [datascienceinabox.org](https://datasciencebox.org/)\n\n## Q&A {.smaller}\n\n> Q: I just think it's a bit fast and I would appreciate if you made sure to show like how to import and stuff rather then jumping to the final product\\\n> A: That's really valuable feedback. I don't think you're alone. I'm going to work to better get everyone on the same page going forward.\n\nNote: a handful of comments on needing more time on joins & pivots...which makes sense! They're new :)\n\n## Course Announcements\n\n**Due Dates**:\n\n-   **Lab 03** due Friday (1/27; 11:59 PM)\n-   Lecture Participation survey \"due\" after class\n\n**Course Announcements**:\n\n-   HW01 can be submitted by tonight for full credit (datahub issues)\n-   Lab02 Ans Posted\n-   HW02 Now Available\n-   My OH will now be at the tables along the back of this building\n\n## Suggested Reading\n\n-   R4DS Chapter 28: [Graphics for Communication](https://r4ds.had.co.nz/graphics-for-communication.html)\n-   The Glamour of Graphics: \\[[video](https://www.rstudio.com/resources/rstudioconf-2020/the-glamour-of-graphics/)\\] \\[[slides](https://www.williamrchase.com/slides/assets/player/KeynoteDHTMLPlayer.html)\\] \\[[Prof's slides inspired by Will's talk](https://docs.google.com/presentation/d/1wT9M4J2O72s_pbcoqmaNLgBQJIUi2SzmvSmULmOWbSM/edit?usp=sharing)\\]\n\n\n::: {.cell}\n\n:::\n\n\n## Keep it simple\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/05/pie-3d.jpg){width=100%}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/pie-to-bar-1.png){width=100%}\n:::\n:::\n\n:::\n:::\n\n## Use color to draw attention\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-1-1.png){width=100%}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-2-1.png){width=100%}\n:::\n:::\n\n:::\n:::\n\n## Tell a story\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/05/time-series-story.png){width=100%}\n:::\n:::\n\n\n::: aside\nCredit: Angela Zoss and Eric Monson, Duke DVS\n:::\n\n# Principles for effective visualizations {background-color=\"#92A86A\"}\n\n## Principles for effective visualizations\n\n-   Order matters\n-   Put long categories on the y-axis\n-   Keep scales consistent\n-   Select meaningful colors\n-   Use meaningful and nonredundant labels\n\n## Data\n\nIn September 2019, YouGov survey asked 1,639 GB adults the following question:\n\n::: columns\n::: {.column width=\"50%\"}\n> In hindsight, do you think Britain was right/wrong to vote to leave EU?\n>\n> -   Right to leave\\\n> -   Wrong to leave\\\n> -   Don't know\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-5-1.png){width=100%}\n:::\n:::\n\n:::\n:::\n\n::: aside\nSource: [YouGov Survey Results](https://d25d2506sfb94s.cloudfront.net/cumulus_uploads/document/x0msmggx08/YouGov%20-%20Brexit%20and%202019%20election.pdf), retrieved Oct 7, 2019\n:::\n\n## The Data: Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrexit <- tibble(\n  opinion = c(\n    rep(\"Right\", 664), rep(\"Wrong\", 787), rep(\"Don't know\", 188)\n  ),\n  region = c(\n    rep(\"london\", 63), rep(\"rest_of_south\", 241), rep(\"midlands_wales\", 145), rep(\"north\", 176), rep(\"scot\", 39),\n    rep(\"london\", 110), rep(\"rest_of_south\", 257), rep(\"midlands_wales\", 152), rep(\"north\", 176), rep(\"scot\", 92),\n    rep(\"london\", 24), rep(\"rest_of_south\", 49), rep(\"midlands_wales\", 57), rep(\"north\", 48), rep(\"scot\", 10)\n  )\n)\n```\n:::\n\n\n## Order matters\n\n**Alphabetical is rarely ideal**\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-7-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(x = opinion)) +\n  geom_bar()\n```\n:::\n\n:::\n\n## Order by frequency\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-8-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n`fct_infreq`: Reorder factors' levels by frequency\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\nggplot(brexit, aes(x = fct_infreq(opinion))) + \n  geom_bar()\n```\n:::\n\n:::\n\n## Clean up labels\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-9-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-6\"}\nggplot(brexit, aes(x = opinion)) +\n  geom_bar() +\n  labs( \n    x = \"Opinion\", \n    y = \"Count\" \n  ) \n```\n:::\n\n:::\n\n------------------------------------------------------------------------\n\n## Avoiding Alphabetical Order\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-10-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(x = region)) +\n  geom_bar()\n```\n:::\n\n:::\n\n## Use inherent level order\n\n::: panel-tabset\n### Relevel\n\n`fct_relevel`: Reorder factor levels using a custom order\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-6\"}\nbrexit <- brexit |>\n  mutate(\n    region = fct_relevel( \n      region,\n      \"london\", \"rest_of_south\", \"midlands_wales\", \"north\", \"scot\"\n    )\n  )\n```\n:::\n\n\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-11-1.png){width=2100}\n:::\n:::\n\n:::\n\n------------------------------------------------------------------------\n\n## Clean up labels\n\n::: panel-tabset\n### Recode\n\n`fct_recode`: Change factor levels by hand\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-10\"}\nbrexit <- brexit |>\n  mutate(\n    region = fct_recode( \n      region,\n      London = \"london\",\n      `Rest of South` = \"rest_of_south\",\n      `Midlands / Wales` = \"midlands_wales\",\n      North = \"north\",\n      Scotland = \"scot\"\n    )\n  )\n```\n:::\n\n\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/recode-plot-1.png){width=2100}\n:::\n:::\n\n:::\n\n## Put long categories on the y-axis\n\n**Long categories can be hard to read**\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-12-1.png){width=2100}\n:::\n:::\n\n\n## Move them to the y-axis\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-13-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\nggplot(brexit, aes(y = region)) + \n  geom_bar()\n```\n:::\n\n:::\n\n## And reverse the order of levels\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-14-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n`fct_rev`: Reverse order of factor levels\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\nggplot(brexit, aes(y = fct_rev(region))) + \n  geom_bar()\n```\n:::\n\n:::\n\n## Clean up labels\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-15-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-6\"}\nggplot(brexit, aes(y = fct_rev(region))) +\n  geom_bar() +\n  labs( \n    x = \"Count\", \n    y = \"Region\" \n  ) \n```\n:::\n\n:::\n\n# Pick a purpose {background-color=\"#92A86A\"}\n\n## Segmented bar plots can be hard to read\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-16-1.png){width=2100}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1\"}\nggplot(brexit, aes(y = region, fill = opinion)) + \n  geom_bar()\n```\n:::\n\n:::\n\n## Use facets\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-17-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(brexit, aes(y = opinion, fill = region)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1) \n```\n:::\n\n:::\n\n## Avoid redundancy?\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-18-1.png){width=90%}\n:::\n:::\n\n\n## Redundancy can help tell a story\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-19-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1)\n```\n:::\n\n:::\n\n## Be selective with redundancy\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-20-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1) +\n  guides(fill = \"none\") \n```\n:::\n\n:::\n\n## Use informative labels\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-21-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\", \n    x = NULL, y = NULL\n  )\n```\n:::\n\n:::\n\n## A bit more info\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-22-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"7-8\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\", \n    caption = \"Source: https://d25d2506sfb94s.cloudfront.net/cumulus_uploads/document/x0msmggx08/YouGov%20-%20Brexit%20and%202019%20election.pdf\", \n    x = NULL, y = NULL\n  )\n```\n:::\n\n:::\n\n## Let's do better\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-23-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\", \n    x = NULL, y = NULL\n  )\n```\n:::\n\n:::\n\n## Fix up facet labels\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-24-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region,\n    nrow = 1,\n    labeller = label_wrap_gen(width = 12) \n  ) + \n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    x = NULL, y = NULL\n  )\n```\n:::\n\n:::\n\n# Select meaningful colors {background-color=\"#92A86A\"}\n\n## Rainbow colors not always best\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-25-1.png){width=90%}\n:::\n:::\n\n\n## Manually choose colors when needed\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-26-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"9-13\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1, labeller = label_wrap_gen(width = 12)) +\n  guides(fill = \"none\") +\n  labs(title = \"Was Britain right/wrong to vote to leave EU?\",\n       subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n       caption = \"Source: bit.ly/2lCJZVg\",\n       x = NULL, y = NULL) +\n  scale_fill_manual(values = c( \n    \"Wrong\" = \"red\", \n    \"Right\" = \"green\", \n    \"Don't know\" = \"gray\" \n  )) \n```\n:::\n\n:::\n\n## Choosing better colors\n\n[colorbrewer2.org](https://colorbrewer2.org/)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/05/color-brewer.png){width=60%}\n:::\n:::\n\n\n## Use better colors\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-28-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"9-13\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1, labeller = label_wrap_gen(width = 12)) +\n  guides(fill = \"none\") +\n  labs(title = \"Was Britain right/wrong to vote to leave EU?\",\n       subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n       caption = \"Source: bit.ly/2lCJZVg\",\n       x = NULL, y = NULL) +\n  scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\", \n    \"Right\" = \"#67a9cf\", \n    \"Don't know\" = \"gray\" \n  ))\n```\n:::\n\n:::\n\n## Select theme\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-29-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"12\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1, labeller = label_wrap_gen(width = 12)) +\n  guides(fill = \"none\") +\n  labs(title = \"Was Britain right/wrong to vote to leave EU?\",\n       subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n       caption = \"Source: bit.ly/2lCJZVg\",\n       x = NULL, y = NULL) +\n  scale_fill_manual(values = c(\"Wrong\" = \"#ef8a62\",\n                               \"Right\" = \"#67a9cf\",\n                               \"Don't know\" = \"gray\")) +\n  theme_minimal() \n```\n:::\n\n:::\n\n::: aside\n`ggthemes` described [here](https://ggplot2.tidyverse.org/reference/ggtheme.html)\n:::\n\n## Customize theme\n\n::: panel-tabset\n### Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-viz_files/figure-html/unnamed-chunk-30-1.png){width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"12-14\"}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n  facet_wrap(~region, nrow = 1, labeller = label_wrap_gen(width = 12)) +\n  guides(fill = \"none\") +\n  labs(title = \"Was Britain right/wrong to vote to leave EU?\",\n       subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n       caption = \"Source: bit.ly/2lCJZVg\",\n       x = NULL, y = NULL) +\n  scale_fill_manual(values = c(\"Wrong\" = \"#ef8a62\",\n                               \"Right\" = \"#67a9cf\",\n                               \"Don't know\" = \"gray\")) +\n  theme_minimal(base_size = 16) + \n  theme(plot.title.position = \"plot\", \n        panel.grid.major.y = element_blank()) \n```\n:::\n\n:::\n\n## Your Turn\n\n-   Read in the data ([Data slide](https://cogs137.github.io/website/content/lectures/05-viz-slides.html#/the-data-code))\n-   Think of at least three different ways to tell slightly different stories with these data\n-   Try to implement at least one of these ideas!\n\n# Recap {background-color=\"#92A86A\"}\n\n-   Can you determine what needs to be done to improve the effectiveness of your visualizations?\n-   Can you execute said improvements using `ggplot2`?\n-   Can you tell a story with data?\n",
    "supporting": [
      "05-viz_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}